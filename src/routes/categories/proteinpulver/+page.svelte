<script lang="ts">
  export let data;
  
	import Products from '$lib/components/Products.svelte';
	import Hero from '$lib/components/Hero.svelte';

  import { onMount } from "svelte";

  interface SlideItem {
    icon: string;
    text: string;
  }

  interface Slide {
    title: string;      // HTML allowed
    intro: string;  // short intro under title
    content: string;    // HTML for multiple paragraphs
    items: SlideItem[];
  }
    let slides: Slide[] = [
    {
      title: 'Hvad er <span class="text-[#007EE1]">proteinpulver?</span>',
      intro: 'FÃ¥ styr pÃ¥ hvad proteinpulver er, og hvorfor det er et af de mest populÃ¦re kosttilskud til trÃ¦ning, restitution og muskelopbygning.',
      content: `
        <p><strong>Proteinpulver</strong> er et kosttilskud i pulverform, som primÃ¦rt bestÃ¥r af <strong>protein</strong>. Det gÃ¦lder for alle typer proteinpulver â€“ ogsÃ¥ <em>billigt proteinpulver</em>.</p>
        <p>AfhÃ¦ngig af producenten kan proteinkilden stamme fra <strong>mÃ¦lk</strong> (valle/whey), <strong>Ã¦rter</strong>, <strong>soya</strong>, <strong>ris</strong> eller <strong>hamp</strong>.</p>
        <p>Den mest populÃ¦re type er <strong>valleprotein</strong> (whey), som er baseret pÃ¥ mÃ¦lkeprotein. Protein er en af kroppens vigtigste byggesten og et af de fire makronÃ¦ringsstoffer: <em>fedt, kulhydrater, protein og alkohol</em>.</p>
        <p>Protein spiller en central rolle i kroppens evne til at <strong>gendanne celler og opbygge muskler</strong>, hvilket gÃ¸r proteinpulver til et populÃ¦rt valg blandt personer, der trÃ¦ner eller Ã¸nsker at Ã¸ge deres daglige proteinindtag.</p>
      `,
      items: [
        { icon: "ğŸ¥›", text: "MÃ¦lk, Ã¦rter, soja, ris, hamp" },
        { icon: "ğŸ’ª", text: "Til trÃ¦ning og muskelopbygning" },
        { icon: "âš¡", text: "Nem og hurtig proteinkilde" }
      ]
    },
    {
      title: 'Typer af <span class="text-[#007EE1]">proteinpulver</span>',
      intro: 'Her fÃ¥r du et overblik over de mest almindelige varianter â€“ og hvad der passer til dig.',
      content: `
        <p><strong>Protein pulver</strong> blandes oftest op med <strong>vand</strong> eller <strong>mÃ¦lk</strong>. Alt efter dine trÃ¦ningsmÃ¥l findes der en type proteinpulver, der matcher dit behov. Det klassiske proteinpulver har et lavt indhold af kulhydrater og kalorier og bruges ofte i forbindelse med trÃ¦ning.</p>
        <p>Der findes bÃ¥de <strong>hurtigt optageligt proteinpulver</strong> â€“ kendt som <strong>whey protein</strong> â€“ og <strong>langsomt optageligt protein</strong>, kendt som <strong>kasein protein</strong>. Mange vÃ¦lger at <em>blande de to typer</em> for at opnÃ¥ en optimal kombination af hurtigt og langsomt optageligt protein. Det gÃ¦lder ogsÃ¥ for <em>billigt proteinpulver</em>.</p>
        <p>En anden variant er <strong>weight gainer</strong>, som indeholder et hÃ¸jt antal kulhydrater og kalorier. Denne type er ideel for personer, der har svÃ¦rt ved at tage pÃ¥, da den har en langt hÃ¸jere andel af <strong>kulhydrater og fedt</strong> end almindeligt proteinpulver.</p>
        <p>NÃ¥r du undersÃ¸ger markedet for proteinpulver, vil du hurtigt opdage, at der findes bÃ¥de <strong>dyrt og billigt proteinpulver</strong> â€“ og at du ofte kan finde gode <strong>proteinpulver tilbud</strong> online, isÃ¦r hvis du kÃ¸ber stÃ¸rre mÃ¦ngder.</p>
        <p>Inden du vÃ¦lger et produkt, er det dog vigtigt at undersÃ¸ge <strong>kvaliteten</strong>. Hvis du vil finde det bedste proteinpulver til prisen, sÃ¥ lÃ¦s med videre og bliv klogere pÃ¥, hvad du skal kigge efter.</p>
      `,
      items: [
        { icon: "âš¡", text: 'Hurtigt optageligt <br> (Whey protein)' },
        { icon: "ğŸŒ™", text: 'Langsomt optageligt <br> (Kasein protein)' },
        { icon: "ğŸ¥£", text: 'Weight gainer <br> (hÃ¸jt kalorieindhold)' }
      ]
    },
    {
      title: 'Hvordan vurderer man kvaliteten af <span class="text-[#007EE1]">billig proteinpulver?</span>',
      intro: 'Ikke alt proteinpulver er ens â€“ men kvaliteten kan vurderes objektivt ud fra proteinets sammensÃ¦tning og fordÃ¸jelighed.',
      content: `
      <p>
          FÃ¸rst for nylig er <strong>kvaliteten af proteinpulver</strong> blevet et centralt fokus i fitnessbranchen.
          Et vigtigt aspekt i vurderingen er indholdet af <strong>aminosyrer</strong>.
        </p>

        <p>
          Der findes <strong>9 essentielle aminosyrer</strong>, som kroppen ikke selv kan producere.
          Det er primÃ¦rt disse, man kigger pÃ¥, nÃ¥r man vurderer kvaliteten af et proteinpulver.
          De Ã¸vrige aminosyrer kan kroppen selv danne og betragtes derfor som mindre kritiske.
        </p>

        <p>
          Den generelle kvalitet mÃ¥les i dag ud fra
          <strong>DIAAS-metoden</strong> (<em>Digestible Indispensable Amino Acid Score</em>),
          som ikke kun vurderer mÃ¦ngden af essentielle aminosyrer, men ogsÃ¥
          <strong>fordÃ¸jeligheden</strong> af proteinkilden.
        </p>

        <p>
          Alt <strong>proteinpulver solgt i Danmark</strong> skal leve op til bestemte kvalitetsstandarder,
          og der er derfor ingen risiko for at kÃ¸be et produkt, der er direkte skadeligt.
        </p>

        <p>
          PÃ¥ vores side kan du finde <strong>alle typer proteinpulver billigt</strong>,
          og vi angiver altid <strong>kalorier, protein og kulhydrater pr. 100 gram</strong>,
          sÃ¥ du nemt kan finde det bedste <strong>proteinpulver tilbud</strong> til dine behov.
        </p>
      `,
      items: [
        { icon: "ğŸ§¬", text: '9 essentielle aminosyrer' },
        { icon: "ğŸ“Š", text: 'DIAAS-metoden for kvalitet' },
        { icon: "âœ…", text: 'Testet og godkendt i Danmark' }
      ]
    },
    {
      title: 'Hvorfor tage <span class="text-[#007EE1]">billigt proteinpulver?</span>',
      intro: 'Proteinpulver er ikke nÃ¸dvendigt for at blive stÃ¦rk â€“ men det kan vÃ¦re en smart og praktisk mÃ¥de at sikre dit daglige proteinindtag.',
      content: `
      <p>
          <strong>Billig proteinpulver</strong> er ikke et krav for at Ã¸ge din styrke â€“ mennesker har opbygget muskler lÃ¦nge fÃ¸r proteinpulver blev opfundet.
          NÃ¸glen ligger i <strong>selve proteinet</strong>. Det vigtigste er at dÃ¦kke sit daglige behov for protein, hvilket ogsÃ¥ kan gÃ¸res gennem kosten, hvis man planlÃ¦gger det rigtigt.
        </p>

        <p>
          Der er dog flere <strong>fordele ved proteinpulver</strong>. Det er nemt at have med sig og krÃ¦ver kun en shaker.
          PÃ¥ den mÃ¥de kan du fÃ¥ protein prÃ¦cis, nÃ¥r du har brug for det â€“ f.eks. efter trÃ¦ning.
          Derudover er det ofte <strong>billigere</strong> at fÃ¥ sit proteinbehov dÃ¦kket via proteinpulver end gennem almindelig mad.
        </p>

        <p>
          Du kan nÃ¦sten altid finde <strong>gode proteinpulver tilbud</strong>, hvilket gÃ¸r det til en Ã¸konomisk lÃ¸sning for mange.
          Samtidig fÃ¥s proteinpulver i mange <strong>smagsvarianter</strong> â€“ en fordel for dem, der ikke bryder sig om kÃ¸d som kylling eller oksekÃ¸d.
          Der findes endda <strong>veganske alternativer</strong>, som gÃ¸r det lettere at dÃ¦kke sit proteinbehov billigt.
        </p>

        <p>
          IsÃ¦r <strong>whey protein</strong> har en hÃ¸j biologisk vÃ¦rdi og bliver hurtigt optaget i kroppen.
          Det betyder, at du hurtigt fÃ¥r <strong>frie aminosyrer i blodet</strong>, som fremmer proteinsyntesen efter hÃ¥rd trÃ¦ning
          og hjÃ¦lper kroppen med at <strong>genopbygge og styrke musklerne</strong>.
        </p>

        <p>
          Proteinpulver er derfor ikke et krav â€“ men det kan vÃ¦re en <strong>stor fordel</strong> for personer,
          der trÃ¦ner meget, eller som har svÃ¦rt ved at nÃ¥ deres proteinbehov gennem almindelig kost.
        </p>
      `,
      items: [
        { icon: "ğŸ’", text: 'Nem at have med og indtage' },
        { icon: "ğŸ’°", text: 'Billigere proteinkilde <br> end almindelig mad</p>' },
        { icon: "âš¡", text: 'Hurtig optagelse og bedre restitution' }
      ]
    },
    {
      title: 'Hvordan finder jeg <span class="text-[#007EE1]">billigt proteinpulver?</span>',
      intro: 'Det handler ikke kun om at finde den laveste pris â€“ men om at finde det proteinpulver, der passer bedst til dine behov og mÃ¥l.',
      content: `
      <p>
          Hvor findes <strong>billigt proteinpulver</strong>? Hvordan fÃ¥r man mest for pengene? 
          Og hvor gemmer de bedste <strong>proteinpulver tilbud</strong> sig?  
          Der er mange spÃ¸rgsmÃ¥l, nÃ¥r man vil finde et produkt, der bÃ¥de er billigt og af hÃ¸j kvalitet.
        </p>

        <p>
          For at skabe et bedre overblik har vi lavet en <strong>tabel</strong>, der viser de vigtigste parametre
          â€“ herunder prisen per 100 gram proteinpulver.  
          Tallene er omregnet ud fra de mÃ¦ngder, der er i hver pose, sÃ¥ du nemt kan sammenligne produkterne.
        </p>

        <p>
          VÃ¦r dog opmÃ¦rksom pÃ¥, at tabellen ikke viser <strong>rabatpriser</strong>.  
          Hvis et proteinpulver er pÃ¥ tilbud, vil det altsÃ¥ ikke fremgÃ¥ direkte i oversigten.
          Det er dog nemt at klikke ind pÃ¥ det enkelte produkt og se eventuelle aktuelle tilbud.
        </p>

        <p>
          Husk, at det <strong>billigste proteinpulver</strong> ikke nÃ¸dvendigvis er det bedste valg.
          Det afhÃ¦nger af din livsstil og dit formÃ¥l.  
          Er du fx pÃ¥ <strong>kur</strong>, er en variant med lavt kalorieindhold og fÃ¥ kulhydrater ofte bedst.
          Ã˜nsker du derimod at tage pÃ¥, kan et produkt med flere kalorier og kulhydrater vÃ¦re mere oplagt.
        </p>

        <p>
          Prisen afhÃ¦nger ogsÃ¥ af faktorer som <strong>brandvÃ¦rdi</strong> og markedsfÃ¸ring.  
          Men sandheden er, at langt stÃ¸rstedelen af det proteinpulver, der sÃ¦lges i Danmark,
          har en <strong>meget hÃ¸j kvalitet</strong> â€“ ogsÃ¥ de billige varianter.
        </p>

        <p>
          Brug derfor tabellen ovenfor til at <strong>sammenligne priser</strong> pÃ¥ proteinpulver med hÃ¸j kvalitet,
          og find et godt <strong>proteinpulver tilbud</strong>, der matcher dine behov og dit budget.
        </p>
      `,
      items: [
        { icon: "ğŸ“ˆ", text: 'Sammenlign pris per 100 gram' },
        { icon: "ğŸ·ï¸", text: 'Hold Ã¸je med aktuelle tilbud' },
        { icon: "âš–ï¸", text: 'VÃ¦lg efter dit behov â€“ ikke kun pris' }
      ]
    },
    {
      title: 'HvornÃ¥r skal jeg tage <span class="text-[#007EE1]">proteinpulver?</span>',
      intro: 'Det vigtigste er ikke tidspunktet â€“ men at du fÃ¥r dÃ¦kket dit daglige proteinbehov. Alligevel kan timingen have betydning for din restitution og muskelopbygning.',
      content: `
      <p>
          Der findes en udbredt myte om, at man <strong>skal drikke sit proteinpulver lige efter trÃ¦ning</strong>.  
          I virkeligheden handler det om at fÃ¥ <strong>nok protein i lÃ¸bet af dagen</strong> og nÃ¥ sit samlede daglige mÃ¥l.
        </p>

        <p>
          Hvis du allerede dÃ¦kker dit proteinbehov gennem kosten, kan du med fordel tage dit proteinpulver pÃ¥ det tidspunkt,
          hvor du normalt fÃ¥r <strong>mindst protein</strong>.  
          MÃ¥let er at have en <strong>stabil proteinkilde</strong> hele dagen igennem.
        </p>

        <p>
          Hvis du derimod supplerer med <strong>proteinbarer</strong> eller anden kost i lÃ¸bet af dagen,
          kan det vÃ¦re mest optimalt at tage dit proteinpulver <strong>umiddelbart efter trÃ¦ning</strong>.
          PÃ¥ det tidspunkt har kroppen stÃ¸rst behov for nÃ¦ringsstoffer til at <strong>genopbygge muskler</strong> og <strong>fremme restitution</strong>.
        </p>

        <p>
          Dit proteinpulver kan uden problemer <strong>blandes med andre kosttilskud</strong> som kulhydrattilskud eller kreatin.
          Det giver en god balance af byggesten, som kroppen har brug for efter hÃ¥rd trÃ¦ning â€“ fx efter en intens tur pÃ¥ <a href="#" class="text-[#007EE1] hover:underline">romaskinen</a>.
        </p>
      `,
      items: [
        { icon: "ğŸ•’", text: 'FÃ¥ dÃ¦kket dit proteinbehov <br> i lÃ¸bet af dagen' },
        { icon: "ğŸ’ª", text: 'Tag det efter trÃ¦ning <br> for optimal restitution' },
        { icon: "âš—ï¸", text: 'Kan kombineres med <br> kreatin og kulhydrattilskud' }
      ]
    },
    {
      title: 'Dosering af <span class="text-[#007EE1]">proteinpulver</span>',
      intro: 'Hvor meget proteinpulver skal man tage? Det afhÃ¦nger af din kropsvÃ¦gt, din trÃ¦ning â€“ og af hvilket produkt du bruger.',
      content: `
       <p>
          Doseringen af <strong>proteinpulver</strong> afhÃ¦nger i hÃ¸j grad af typen af pulver og hvor meget <strong>proteinindhold</strong> det har.
          De fleste produkter leveres med en <strong>mÃ¥leske</strong>, som typisk indeholder omkring <strong>35 gram proteinpulver</strong>.
        </p>

        <p>
          Hvis vi tager udgangspunkt i et produkt fra <strong>Bodylab</strong>, giver en skefuld cirka <strong>28 gram protein</strong> â€“
          men det kan variere alt efter variant.
        </p>

        <p>
          Vil du beregne det mere prÃ¦cist, kan du bruge denne simple formel:
        </p>

        <div class="bg-[#E6F3FD] border border-[#E6F3FD] rounded-2xl p-6 my-6 text-center">
          <p class="font-semibold text-slate-800 mb-1">ğŸ‘‰ Formel for proteinbehov per mÃ¥ltid:</p>
          <p class="text-slate-700"><code>(KropsvÃ¦gt uden fedt) Ã— 0,5 = gram protein per mÃ¥ltid</code></p>
          <p class="mt-3 text-slate-600 text-sm">Eksempel: Hvis du vejer 60 kg uden fedt â†’ 60 Ã— 0,5 = <strong>30 g protein</strong> efter trÃ¦ning eller per mÃ¥ltid.</p>
        </div>

        <p>
          Det er altid en god idÃ© at <strong>lÃ¦se nÃ¦ringsindholdet</strong> pÃ¥ dit proteinpulver, sÃ¥ du ved prÃ¦cis,
          hvor meget protein du fÃ¥r per skefuld. Det hjÃ¦lper dig med at undgÃ¥ fejlkalkulationer og sikre,
          at du fÃ¥r nok protein i forhold til dit mÃ¥l.
        </p>
      `,
      items: [
        { icon: "âš–ï¸", text: 'AfhÃ¦nger af kropsvÃ¦gt <br> og proteinindhold' },
        { icon: "ğŸ¥„", text: 'Typisk 1 mÃ¥leske = ca. 28â€“35 g' },
        { icon: "ğŸ“Š", text: 'LÃ¦s nÃ¦ringsindholdet <br> for prÃ¦cis dosering' }
      ]
    },
    {
      title: 'Hvor meget <span class="text-[#007EE1]">proteinpulver</span> skal du tage?',
      intro: 'MÃ¦ngden af proteinpulver afhÃ¦nger af dit samlede proteinbehov â€“ og hvor meget du allerede fÃ¥r gennem din almindelige kost.',
      content: `
      <p>
          Hvor meget <strong>proteinpulver</strong> du skal tage afhÃ¦nger bÃ¥de af dit daglige <strong>proteinbehov</strong> og af, hvor meget du fÃ¥r gennem kosten.
          Det er vigtigt at huske, at proteinpulver er et <strong>kosttilskud</strong> â€“ det bÃ¸r derfor kun bruges som et supplement, ikke som en erstatning for almindelig mad.
        </p>

        <p>
          Hvis du vil finde ud af prÃ¦cis, hvor meget protein du har brug for, kan du bruge en <strong>proteinberegner</strong>.
          Den tager hÃ¸jde for din <em>alder, hÃ¸jde, vÃ¦gt og aktivitetsniveau</em> for at estimere dit daglige behov.
        </p>

        <div class="bg-[#E6F3FD] border border-[#E6F3FD] rounded-2xl p-6 my-6 text-center">
          <p class="font-semibold text-slate-800 mb-1">ğŸ‘‰ Brug en proteinberegner:</p>
          <p class="text-slate-700">Indtast alder, hÃ¸jde, vÃ¦gt og aktivitetsniveau â€“ fÃ¥ dit daglige proteinbehov beregnet pÃ¥ fÃ¥ sekunder.</p>
        </div>

        <p>
          Flere studier har undersÃ¸gt, om et hÃ¸jt proteinindtag kan fÃ¸re til vÃ¦gtÃ¸gning. I et forsÃ¸g indtog testpersoner
          <strong>350 gram protein dagligt i 60 dage</strong>. Resultatet viste ingen nÃ¦vnevÃ¦rdig forskel i vÃ¦gt eller kropskomposition
          sammenlignet med kontrolgruppen, som fik et normalt proteinindtag.
        </p>

        <p>
          Testpersonerne spiste i gennemsnit <strong>800 kalorier mere om dagen</strong> end kontrolgruppen, men tog ikke pÃ¥ i fedtprocent.
          Det tyder pÃ¥, at et <strong>kalorieoverskud fra protein</strong> ikke nÃ¸dvendigvis fÃ¸rer til Ã¸get fedtmasse.
        </p>

        <p>
          Det understreger, at protein er en vigtig byggesten for kroppen â€“ men at det stadig skal balanceres
          som en del af en sund og varieret kost.
        </p>
      `,
      items: [
        { icon: "ğŸ¥—", text: 'Proteinpulver er <br> et supplement â€“ ikke erstatning' },
        { icon: "ğŸ§®", text: 'Brug beregner til at finde <br> dit personlige behov' },
        { icon: "ğŸ§¬", text: 'Overskud af protein <br> Ã¸ger ikke nÃ¸dvendigvis fedtprocent' }
      ]
    }
  ];

  let current: number = 0;
  let interval: number;

  const next = (): void => {
    current = (current + 1) % slides.length;
  };

  const prev = (): void => {
    current = (current - 1 + slides.length) % slides.length;
  };

  onMount(() => {
    interval = window.setInterval(next, 8000); // use window.setInterval for browser
    return () => window.clearInterval(interval);
  });
</script>

<main class="min-h-screen bg-gray-50">
  <Hero
    title={data.category.name}
    text={""}
		categories={data.categories}
  />

  <Products products={data.products} totalPages={data.totalPages} currentPage={data.currentPage} brands={data.brands} retailers={data.retailers} categoryId={1} />

  <div class="relative max-w-5xl mx-auto px-6 py-20">
    <div class="overflow-hidden rounded-3xl shadow-lg border border-[#E6F3FD] bg-white p-10 transition-shadow duration-300 hover:shadow-xl">
      
  {#each slides as slide, index}
    <div class="transition-all duration-500" style="display: {index === current ? 'block' : 'none'}">
      <header class="mb-6 text-center">
        <h2 class="text-4xl font-extrabold text-slate-900">
          {@html slide.title}
        </h2>
        <p class="mt-4 text-base text-slate-600 max-w-2xl mx-auto">
          {slide.intro}
        </p>
      </header>

      <div class="prose prose-lg prose-slate max-w-none mb-8">
        {@html slide.content}
      </div>

      <ul class="mt-12 grid sm:grid-cols-3 gap-6 text-center">
        {#each slide.items as item}
          <li class="p-6 rounded-2xl bg-[#E6F3FD] border border-[#E6F3FD] hover:bg-[#1596EC]/10 transition">
            <span class="block text-3xl mb-2 text-[#007EE1]">{item.icon}</span>
            <p class="font-medium text-slate-700">{@html item.text}</p>
          </li>
        {/each}
      </ul>
    </div>
  {/each}

      <!-- Navigation -->
      <button
        class="absolute top-1/2 left-4 -translate-y-1/2 bg-[#007EE1] text-white rounded-full w-10 h-10 flex items-center justify-center hover:bg-[#005bb5]"
        on:click={prev}
      >
        â€¹
      </button>
      <button
        class="absolute top-1/2 right-4 -translate-y-1/2 bg-[#007EE1] text-white rounded-full w-10 h-10 flex items-center justify-center hover:bg-[#005bb5]"
        on:click={next}
      >
        â€º
      </button>

      <!-- Dots -->
      <div class="flex justify-center mt-6 space-x-2">
        {#each slides as _, i}
          <span 
            class="w-3 h-3 rounded-full cursor-pointer"
            class:bg-[#007EE1]={i === current}
            class:bg-gray-300={i !== current}
            on:click={() => current = i}
          ></span>
        {/each}
      </div>
    </div>
  </div>

</main>